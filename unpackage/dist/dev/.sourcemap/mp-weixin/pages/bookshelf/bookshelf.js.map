{"version":3,"sources":["webpack:////Users/apple/work/yunyuedu/main.js","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?e9a5","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?9dda","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?328b","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?3680","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?c960","webpack:////Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue?a396"],"names":["createPage","Page","computed","showNoResul","$store","state","qsList","length","typing","userInfo","count","booksList","filter","item","selected","tip","selectedAll","isNoBooks","data","edit","showToTop","scrollTop","old","mockBooks","methods","goReading","_id","uni","navigateTo","url","removeBooksFromBookcases","books","showLoading","title","wx","cloud","callFunction","name","res","hideLoading","getBookcases","result","bookrack","num","i","push","bookName","map","book","$set","deleteHandle","every","selectedAllHandle","finishedHandle","forEach","editHandle","getBook","tapHandle","index","goHandle","switchTab","goTopHandle","$nextTick","scrollHandle","event","detail","onShow","onHide","onLoad","reLaunch","commit","dispatch"],"mappings":"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","file":"pages/bookshelf/bookshelf.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/bookshelf/bookshelf.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bookshelf.vue?vue&type=template&id=51a759b6&scoped=true&\"\nvar renderjs\nimport script from \"./bookshelf.vue?vue&type=script&lang=js&\"\nexport * from \"./bookshelf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bookshelf.vue?vue&type=style&index=0&id=51a759b6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a759b6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/apple/work/yunyuedu/pages/bookshelf/bookshelf.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookshelf.vue?vue&type=template&id=51a759b6&scoped=true&\"","var components = {\n  ToTop: function() {\n    return import(\n      /* webpackChunkName: \"components/ToTop/ToTop\" */ \"@/components/ToTop/ToTop.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    position: \"absolute\",\n    bottom: \"15vh\",\n    right: \"6vw\"\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookshelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookshelf.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tcomputed: {\n\t\tshowNoResul() {\n\t\t\treturn !this.$store.state.qsList.length && this.$store.state.typing\n\t\t},\n\t\tuserInfo() {\n\t\t\treturn this.$store.state.userInfo\n\t\t},\n\t\tcount() {\n\t\t\t// 用户选中的书籍数量\n\t\t\treturn this.booksList.filter(item => item.selected).length\n\t\t},\n\t\ttip() {\n\t\t\treturn this.selectedAll ? '取消全选' : '全选'\n\t\t},\n\t\tisNoBooks() {\n\t\t\treturn !!this.booksList.length\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbooksList: [],\n\t\t\tselectedAll: false,\n\t\t\tedit: false,\n\t\t\tshowToTop: false,\n\t\t\tscrollTop: 0,\n\t\t\told: {\n\t\t\t\tscrollTop: 0\n\t\t\t},\n\t\t\tmockBooks: []\n\t\t}\n\t},\n\tmethods: {\n\t\tgoReading(_id){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/read/read?_id=' + _id\n\t\t\t})\n\t\t},\n\t\tasync removeBooksFromBookcases(books) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"加载中...\"\n\t\t\t})\n\t\t\tconst res= await wx.cloud.callFunction({\n\t\t\t\tname: 'removeFromBookcase',\n\t\t\t\tdata: {\n\t\t\t\t\tbooks\n\t\t\t\t}\n\t\t\t})\n\t\t\tuni.hideLoading()\n\t\t},\n\t\tasync getBookcases() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"加载中...\"\n\t\t\t})\n\t\t\tconst res = await wx.cloud.callFunction({\n\t\t\t\tname: 'getBookcases'\n\t\t\t})\n\t\t\tuni.hideLoading()\n\t\t\tif(res.result.data[0].bookrack.length) {\n\t\t\t\tconst booksList = res.result.data[0].bookrack\n\t\t\t\tif(3 - booksList.length % 3) {\n\t\t\t\t\tconst num = 3 - booksList.length % 3;\n\t\t\t\t\tfor(var i = 0;i<num;++i) {\n\t\t\t\t\t\tbooksList.push({\n\t\t\t\t\t\t\t_id: i,\n\t\t\t\t\t\t\tbookName: 'placeholder'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 添加响应式属性\n\t\t\t\tthis.booksList = booksList.map(book => {\n\t\t\t\t\tthis.$set(book,'selected',false)\n\t\t\t\t\treturn book\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync deleteHandle() {\n\t\t\tif(!this.count) return\n\t\t\tconst books = this.booksList.filter(item => item.selected && item.bookName !== 'placeholder')\n\t\t\tawait this.removeBooksFromBookcases(books)\n\t\t\tthis.selectedAll = false\n\t\t\tthis.booksList = this.booksList.filter(item => !item.selected);\n\t\t\tif(3 - this.booksList.length % 3) {\n\t\t\t\tconst num = 3 - this.booksList.length % 3;\n\t\t\t\tfor(var i = 0;i<num;++i) {\n\t\t\t\t\tthis.booksList.push({\n\t\t\t\t\t\t_id: i,\n\t\t\t\t\t\tbookName: 'placeholder',\n\t\t\t\t\t\tselected: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.booksList.every(book => book.bookName === 'placeholder')) {\n\t\t\t\tthis.edit = false;\n\t\t\t\tthis.booksList = [] // 置空\n\t\t\t}\n\t\t},\n\t\tselectedAllHandle() {\n\t\t\tif (!this.booksList.length) return;\n\n\t\t\tif (!this.selectedAll) {\n\t\t\t\tthis.booksList = this.booksList.map(item => {\n\t\t\t\t\tif(item.bookName !== 'placeholder') {\n\t\t\t\t\t\titem.selected = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t})\n\t\t\t\tthis.selectedAll = true\n\t\t\t} else {\n\t\t\t\tthis.booksList = this.booksList.map(item => {\n\t\t\t\t\tif(item.bookName !== 'placeholder') {\n\t\t\t\t\t\titem.selected = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t})\n\t\t\t\tthis.selectedAll = false\n\t\t\t}\n\t\t},\n\t\tfinishedHandle() {\n\t\t\tthis.edit = false;\n\t\t\tthis.booksList.forEach(book => book.selected = false)\n\t\t},\n\t\teditHandle() {\n\t\t\tif (!this.booksList.length) return\n\t\t\tthis.edit = true;\n\t\t},\n\t\tasync getBook(_id) {\n\t\t\treturn await wx.cloud.callFunction({\n\t\t\t\tname: 'getBook',\n\t\t\t\tdata: {\n\t\t\t\t\t_id\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tasync tapHandle(index,book) {\n\t\t\tif (book.bookName === 'placeholder') {\n\t\t\t\treturn\n\t\t\t} else if(!this.edit) {\n\t\t\t\t//小说列表不存在该书籍\n\t\t\t\t// const match = this.$store.state.books.find(item => item._id === book._id)\n\t\t\t\t// if(!match){\n\t\t\t\t\t\n\t\t\t\t// \tuni.showLoading({\n\t\t\t\t\t\t\n\t\t\t\t// \t})\n\t\t\t\t// \tconst res = await this.getBook(book._id)\n\t\t\t\t// \tif(res.result.data) {\n\t\t\t\t// \t\tconst book = res.result.data\n\t\t\t\t// \t\t// 将书架中不存在的小说追加到store的boos中\n\t\t\t\t// \t\tthis.$store.commit('ADDBOOK',book)\n\t\t\t\t// \t}\n\t\t\t\t// \tuni.hideLoading()\n\t\t\t\t// }\n\t\t\t\tthis.goReading(book._id)\n\t\t\t\treturn\n\t\t\t}else {\n\t\t\t\tthis.selectedAll = false\n\t\t\t\tthis.booksList[index].selected = !this.booksList[index].selected;\n\t\t\t\tif(this.booksList.filter(book => book.bookName !== 'placeholder').every(book => book.selected === true)) {\n\t\t\t\t\tthis.selectedAll = true\n\t\t\t\t}\n\t\t\t\t// const value = !this.mockBoo ks[index].selected;\n\t\t\t\t// this.$set(this.mockBooks[index],'selected',value);\n\t\t\t}\n\t\t},\n\t\tgoHandle() {\n\t\t\tuni.switchTab({\n\t\t\t\turl: '/pages/bookmall/bookmall'\n\t\t\t})\n\t\t},\n\t\tgoTopHandle() {\n\t\t\t// 回到顶部\n\t\t\tthis.scrollTop = 0\n\t\t\tthis.scrollTop = this.old.scrollTop\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.scrollTop = 0\n\t\t\t})\n\t\t},\n\t\tscrollHandle(event) {\n\t\t\tthis.old.scrollTop = event.detail.scrollTop\n\t\t\tif (event.detail.scrollTop > 666) {\n\t\t\t\tthis.showToTop = true\n\t\t\t} else {\n\t\t\t\tthis.showToTop = false\n\t\t\t}\n\t\t}\n\t},\n\tonShow() {\n\t\tif (this.userInfo) {\n\t\t\tthis.getBookcases();\n\t\t} \n\t},\n\tonHide() {\n\t\tif(this.edit) {\n\t\t\tthis.edit = false\n\t\t}\n\t},\n\tonLoad: async function() {\n\t\tif (!this.userInfo) {\n\t\t\tuni.reLaunch({\n\t\t\t\turl: \"/pages/login/login\"\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中'\n\t\t})\n\t\tthis.$store.commit('typing', false) // 请求结束后\n\t\tthis.$store.commit('qsList', [])\n\t\tawait this.$store.dispatch(\"qsList\")\n\t\tuni.hideLoading()\n\t}\n}\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookshelf.vue?vue&type=style&index=0&id=51a759b6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookshelf.vue?vue&type=style&index=0&id=51a759b6&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594806983309\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}