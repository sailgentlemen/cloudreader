(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/Setting/Setting"],{"03a5":function(t,o,e){"use strict";var n=e("c42b"),i=e.n(n);i.a},"0e66":function(t,o,e){"use strict";e.r(o);var n=e("ee88"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);o["default"]=i.a},7204:function(t,o,e){"use strict";var n={ConfigBar:function(){return e.e("components/ConfigBar/ConfigBar").then(e.bind(null,"f033"))}},i=function(){var t=this,o=t.$createElement,e=(t._self._c,{position:"absolute",top:"-217%",width:"100vw",left:0,zIndex:666});t.$mp.data=Object.assign({},{$root:{a0:e}})},s=[];e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return n}))},c42b:function(t,o,e){},dcbc:function(t,o,e){"use strict";e.r(o);var n=e("7204"),i=e("0e66");for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);e("03a5");var r,a=e("f0c5"),c=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"1675f4cb",null,!1,n["a"],r);o["default"]=c.exports},ee88:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=i(e("4795"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,o,e,n,i,s,r){try{var a=t[s](r),c=a.value}catch(u){return void e(u)}a.done?o(c):Promise.resolve(c).then(n,i)}function r(t){return function(){var o=this,e=arguments;return new Promise((function(n,i){var r=t.apply(o,e);function a(t){s(r,n,i,a,c,"next",t)}function c(t){s(r,n,i,a,c,"throw",t)}a(void 0)}))}}var a={props:{contents:{type:Array,default:[]},currentIndex:{type:Number,default:0},book:{type:Object,default:null},scroll:{type:Boolean,default:!1},pageScroll:{type:Object},isBottom:{type:Boolean,default:!1}},created:function(){},data:function(){return{popScrollTop:0,reverse:!1,skip:0,popupclosed:!1,showSetBar:!1,loginSuccess:!1,isExisting:!1}},watch:{agree:function(t){t&&this.addToBookrack()},loginSuccess:function(t){t&&this.addToBookrack()},userInfo:function(){this.checkBookrack(this.userInfo.bookrack)}},computed:{count:function(){return this.contents.length},agree:function(){return this.$store.state.agree},active:function(){return this.reverse?this.count-1-this.currentIndex:this.currentIndex},showCatalog:function(){return this.$store.state.showCatalog},showConfigs:function(){return this.$store.state.showConfigs},userInfo:function(){return this.$store.state.userInfo},msg:function(){return this.isExisting?"已加入书桌":"加入书桌"}},methods:{setPopScrollTop:function(t){this.popScrollTop=t},pushHandle:function(){var o=this;return r(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoading({title:"加载中..."}),o.skip+=1e3,e.next=4,o.getCatalogs();case 4:t.hideLoading();case 5:case"end":return e.stop()}}),e)})))()},skipHandle:function(t,o){var e;if(0!==this.count&&(e=t===this.count-1),this.reverse){var n=this.count-1-t;this.$emit("skip",{index:n,isOver:e})}else this.$emit("skip",{index:t,isOver:e});this.$store.commit("showCatalog",!1)},getCatalogs:function(){},checkBookrack:function(t){var o=this;if(this.book){var e=t.find((function(t){return t._id===o.book._id}));e&&(this.isExisting=!0,this.$emit("isExistingBook",!0))}},moveFromBookrack:function(){var o=this;return r(n.default.mark((function e(){var i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoading(),e.next=3,wx.cloud.callFunction({name:"moveFromBookrack",data:{book:o.book}});case 3:i=e.sent,t.hideLoading(),i.result.stats.updated>0&&(t.showToast({title:"移出成功"}),o.isExisting=!1);case 6:case"end":return e.stop()}}),e)})))()},addToBookrack:function(){var o=this;return r(n.default.mark((function e(){var i,s,r,a;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=o,o.userInfo||o.loginSuccess){e.next=4;break}return t.navigateTo({url:"/pages/login/login"}),e.abrupt("return");case 4:if(!o.isExisting){e.next=8;break}return s="是否将《".concat(o.book.bookName,"》移出书桌 ？"),t.showModal({title:"移出书桌",content:s,confirmText:"移出",success:function(t){t.confirm&&i.moveFromBookrack()}}),e.abrupt("return");case 8:return t.showLoading({title:"加载中..."}),r=Object.assign({},o.book),delete r.contents,e.next=13,wx.cloud.callFunction({name:"addToBookrack",data:{book:r}});case 13:a=e.sent,t.hideLoading(),a.result.stats.updated>0&&(o.isExisting=!0,o.$emit("isExistingBook",!0),t.showToast({title:"添加成功"}),o.$store.commit("SETAGREE",!1));case 16:case"end":return e.stop()}}),e)})))()},sortHandle:function(){this.reverse=!this.reverse,this.$emit("sort"),this.popScrollTop=0},changeStepsHandle:function(t){console.log(t)},setThemeHandle:function(){this.showCatalog&&this.$store.commit("showCatalog",!1),this.$store.commit("showConfigs",!this.showConfigs)},popupanimationend:function(t){this.$store.commit("showCatalog",!this.showCatalog),this.popupclosed=t},catalogClick:function(){this.showConfigs&&this.$store.commit("showConfigs",!1),this.showCatalog?this.popupclosed=!0:this.$store.commit("showCatalog",!this.showCatalog)}}};o.default=a}).call(this,e("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/Setting/Setting-create-component',
    {
        'components/Setting/Setting-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("dcbc"))
        })
    },
    [['components/Setting/Setting-create-component']]
]);
